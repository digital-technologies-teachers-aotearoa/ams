{% load theme %}

<style>
:root,
[data-bs-theme="light"] {
  /* Fonts */
  --bs-font-sans-serif: {{ theme.font_sans_serif|safe }};
  --bs-font-monospace: {{ theme.font_monospace|safe }};
  --bs-body-font-family: {{ theme.body_font_family|safe }};
  --bs-body-font-size: {{ theme.body_font_size }};
  --bs-body-font-weight: {{ theme.body_font_weight }};
  --bs-body-line-height: {{ theme.body_line_height }};

  /* Body */
  --bs-body-color: {{ theme.body_color }};
  --bs-body-color-rgb: {{ derived.body_color_rgb }};
  --bs-body-bg: {{ theme.body_bg }};
  --bs-body-bg-rgb: {{ derived.body_bg_rgb }};

  /* Secondary (auto-derived from body colors) */
  --bs-secondary-color: {{ derived.secondary_color }};
  --bs-secondary-color-rgb: {{ derived.secondary_color_rgb }};
  --bs-secondary-bg: {{ derived.secondary_bg }};
  --bs-secondary-bg-rgb: {{ derived.secondary_bg_rgb }};

  /* Tertiary (auto-derived from body colors) */
  --bs-tertiary-color: {{ derived.tertiary_color }};
  --bs-tertiary-color-rgb: {{ derived.tertiary_color_rgb }};
  --bs-tertiary-bg: {{ derived.tertiary_bg }};
  --bs-tertiary-bg-rgb: {{ derived.tertiary_bg_rgb }};

  /* Emphasis (auto-derived) */
  --bs-emphasis-color: {{ derived.emphasis_color }};
  --bs-emphasis-color-rgb: {{ derived.emphasis_color_rgb }};

  /* Border (auto-derived from body bg) */
  --bs-border-color: {{ derived.border_color }};
  --bs-border-color-rgb: {{ derived.border_color_rgb }};

  /* Primary (base from model, variants auto-derived) */
  --bs-primary: {{ theme.primary_color }};
  --bs-primary-rgb: {{ derived.primary_rgb }};
  --bs-primary-bg-subtle: {{ derived.primary_bg_subtle }};
  --bs-primary-border-subtle: {{ derived.primary_border_subtle }};
  --bs-primary-text-emphasis: {{ derived.primary_text_emphasis }};

  /* Success */
  --bs-success: {{ theme.success_color }};
  --bs-success-rgb: {{ derived.success_rgb }};
  --bs-success-bg-subtle: {{ derived.success_bg_subtle }};
  --bs-success-border-subtle: {{ derived.success_border_subtle }};
  --bs-success-text-emphasis: {{ derived.success_text_emphasis }};

  /* Danger */
  --bs-danger: {{ theme.danger_color }};
  --bs-danger-rgb: {{ derived.danger_rgb }};
  --bs-danger-bg-subtle: {{ derived.danger_bg_subtle }};
  --bs-danger-border-subtle: {{ derived.danger_border_subtle }};
  --bs-danger-text-emphasis: {{ derived.danger_text_emphasis }};

  /* Warning */
  --bs-warning: {{ theme.warning_color }};
  --bs-warning-rgb: {{ derived.warning_rgb }};
  --bs-warning-bg-subtle: {{ derived.warning_bg_subtle }};
  --bs-warning-border-subtle: {{ derived.warning_border_subtle }};
  --bs-warning-text-emphasis: {{ derived.warning_text_emphasis }};

  /* Info */
  --bs-info: {{ theme.info_color }};
  --bs-info-rgb: {{ derived.info_rgb }};
  --bs-info-bg-subtle: {{ derived.info_bg_subtle }};
  --bs-info-border-subtle: {{ derived.info_border_subtle }};
  --bs-info-text-emphasis: {{ derived.info_text_emphasis }};

  /* Light (auto-derived from body bg) */
  --bs-light: {{ derived.light }};
  --bs-light-rgb: {{ derived.light_rgb }};
  --bs-light-bg-subtle: {{ derived.light_bg_subtle }};
  --bs-light-border-subtle: {{ derived.light_border_subtle }};
  --bs-light-text-emphasis: {{ derived.light_text_emphasis }};

  /* Dark (auto-derived from body color) */
  --bs-dark: {{ derived.dark }};
  --bs-dark-rgb: {{ derived.dark_rgb }};
  --bs-dark-bg-subtle: {{ derived.dark_bg_subtle }};
  --bs-dark-border-subtle: {{ derived.dark_border_subtle }};
  --bs-dark-text-emphasis: {{ derived.dark_text_emphasis }};

  /* Links */
  --bs-link-color: {{ theme.link_color }};
  --bs-link-color-rgb: {{ derived.link_color_rgb }};
  --bs-link-hover-color: {{ theme.link_hover_color }};
  --bs-link-hover-color-rgb: {{ derived.link_hover_color_rgb }};
}

/* Navbar */
nav.navbar,
.offcanvas-header {
  background-color: {{ theme.navbar_bg_color }};
}

/* Footer */
footer.footer {
  background-color: {{ theme.footer_bg_color }};
}

/* Custom CSS Overrides */
{% if theme.custom_css %}
{{ theme.custom_css|safe }}
{% endif %}
</style>
