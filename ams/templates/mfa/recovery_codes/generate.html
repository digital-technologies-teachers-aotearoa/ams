{% extends "mfa/recovery_codes/base.html" %}

{% load i18n %}
{% load allauth %}

{% block allauth_content %}
  {% element h1 %}
    {% translate "Generate Recovery Codes" %}
  {% endelement %}
  {% element p %}
    {% blocktranslate %}You may want to generate new recovery codes if you've used most of your existing codes, or if you think they may have been compromised.{% endblocktranslate %}
  {% endelement %}
  {% if unused_code_count %}
    <div class="alert alert-warning">
      {% blocktranslate %}Generating new codes will invalidate all your existing recovery codes. Make sure to securely delete any saved copies of your old codes.{% endblocktranslate %}
    </div>
  {% else %}
    {% element p %}
      {% blocktranslate %}After generating, store the new codes securely offline.{% endblocktranslate %}
    {% endelement %}
  {% endif %}
  {% url 'mfa_generate_recovery_codes' as action_url %}
  {% element form method="post" action=action_url no_visible_fields=True %}
    {% slot body %}
      {% csrf_token %}
      {{ form.as_p }}
    {% endslot %}
    {% slot actions %}
      {% setvar tags %}
      {% if unused_code_count %}
        danger
      {% else %}
      {% endif %}
    {% endsetvar %}
    {% element button type="submit" tags=tags %}
      {% trans "Generate" %}
    {% endelement %}
  {% endslot %}
{% endelement %}
{% endblock allauth_content %}
